<div class="card">
    <div class="header">
        <h4>Assesment</h4>
        <ul class="header-dropdown m-r--5">
            <li>
                <a role="button" class="btn btn-theme btn-xs" (click)="saveAssesmentResult()">
                    <i class="material-icons">save</i></a>
            </li>
            <li>
                <a role="button" class="btn btn-theme btn-xs" (click)="backViewData()">
                    <i class="material-icons">arrow_back</i></a>
            </li>
        </ul>
    </div>

    <div class="body">
        <div class="row clearfix">
            <div class="row clearfix">
                <div class="col-md-2">
                    <div class="form-group">
                        <div class="form-line">
                            <label class="control-label">Academic Year <strong>*</strong></label>
                            <select id="ayid" name="ayname" [(ngModel)]="ayid" class="form-control ayname" tabindex="1">
                                <option [value]="0">Select Academic Year</option>
                                <option *ngFor="let row of ayDT" [value]="row.id">
                                    {{row.val}}
                                </option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="form-group">
                        <div class="form-line">
                            <label class="control-label">Class <strong>*</strong></label>
                            <select id="clsid" name="clsname" [(ngModel)]="clsid" (ngModelChange)="fillAssesmentTypeDropDown();getAssesmentResult();" class="form-control class" tabindex="1">
                                <option [value]="0">Select Class</option>
                                <option *ngFor="let row of classDT" [value]="row.id">
                                    {{row.val}}
                                </option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="form-group">
                        <div class="form-line">
                            <label class="control-label">Assesment Type <strong>*</strong></label>
                            <select id="asstypid" name="asstypname" [(ngModel)]="asstypid" (ngModelChange)="getAssesmentResult();" class="form-control asstype" tabindex="2">
                                <option [value]="0">Select Assesment Type</option>
                                <optgroup id="subject" label="Subject">
                                    <option *ngFor="let row of subjectDT" [value]="row.id">
                                        {{row.val}}
                                    </option>
                                </optgroup>
                                <optgroup id="activity" label="Activity">
                                    <option *ngFor="let row of activityDT" [value]="row.id">
                                        {{row.val}}
                                    </option>
                                </optgroup>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <div class="form-line">
                            <label class="control-label">Student <strong>*</strong></label>
                            <p-autoComplete id="studid" name="studname" [(ngModel)]="studsdata" [tabindex]="3" (onSelect)="selectStudentData($event)" [suggestions]="studentDT" (completeMethod)="getStudentData($event)" field="label" [minLength]="1" [size]="30" class="form-controlAutoComplete studname"></p-autoComplete>
                            <span class="material-icons inputlinkico"></span>
                        </div>
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="form-group" style="padding-top: 20px;">
                        <button type="button" class="btn btn-theme btn-xs" (click)="getAssesmentResult()">
                            <i class="material-icons">arrow_forward</i>
                        </button>
                    </div>
                </div>
            </div>

            <div class="row clearfix">
                <div class="col-md-3">
                    <div class="form-group">
                        <div class="form-line">
                            <label class="control-label">From Date <strong>*</strong></label>
                            <input type="date" class="form-control frmdt" [(ngModel)]="frmdt" [tabindex]="4">
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <div class="form-line">
                            <label class="control-label">To Date <strong>*</strong></label>
                            <input type="date" class="form-control todt" [(ngModel)]="todt">
                        </div>
                    </div>
                </div>
            </div>

            <table class="table table-bordered reports">
                <thead>
                    <tr>
                        <th>
                            {{heading}}
                        </th>
                        <th width="100px">
                            Previous Grade
                        </th>
                        <th width="350px">
                            Previous Remark
                        </th>
                        <th width="150px">
                            Grade
                        </th>
                        <th width="350px">
                            Remark
                        </th>
                    </tr>
                </thead>
                <tbody *ngFor="let row of assesmentList">
                    <tr>
                        <td>
                            {{row.subheading}}
                        </td>
                        <td>
                            {{row.prevgrade}}
                        </td>
                        <td>
                            {{row.prevresremark}}
                        </td>
                        <td>
                            <div class="form-group">
                                <div class="form-line">
                                    <select id="gradeid" name="grade" [(ngModel)]="row.gradeid" class="form-control grade" tabindex="1">
                                        <option [value]="0">Select Grade</option>
                                        <option *ngFor="let drow of row.gradelist" [value]="drow.gradeid">
                                            {{drow.gradename}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div class="form-group">
                                <div class="form-line">
                                    <input type="text" class="form-control msg" [(ngModel)]="row.resremark">
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>

            <div class="form-group">
                <div class="form-line">
                    <label class="control-label">Remark</label>
                    <textarea [(ngModel)]="remark" rows="5" class="form-control no-resize auto-growth msg" maxlength="500" tabindex="5"></textarea>
                </div>
            </div>
        </div>
    </div>
</div>