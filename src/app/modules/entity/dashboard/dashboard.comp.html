<div class="card">
    <div class="header">
        <h4>Dashboard</h4>
    </div>
</div>

<div class="container-fluid" *ngIf="_enttdetails.entttype == 'Company'">
    <div class="row clearfix">
        <div *ngFor="let row of dashboardDT" class="col-md-3">
            <div class="info-box {{row.dbcss}} hover-expand-effect">
                <div class="icon">
                    <a role="button" (click)="openForm(row)">
                        <i class="material-icons">{{row.dbicon}}</i>
                    </a>
                </div>
                <div class="content">
                    <div class="text">{{row.dbhead}}</div>
                    <div class="number count-to" data-from="0" data-to="row.dbvalue" data-speed="15" data-fresh-interval="20">
                        {{row.dbvalue}}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div *ngIf="_enttdetails.entttype == 'School'">
    <div class="row clearfix">
        <div class="col-md-8">
            <div class="row clearfix">
                <div *ngFor="let row of dashboardDT" class="col-md-3 col-xs-6">
                    <div class="card dash-panel">
                        <a role="button" (click)="openForm(row)">
                            <div class="text-center">
                                <img class="dash_img_icon" src="{{row.dbicon}}" height="100px" />
                                <div class="dash_text"><span>{{row.dbhead}}</span></div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="sm-header">
                    <h6>Today's Student Attendance</h6>
                </div>

                <div class="body no-padding" *ngIf="classStatusChartDT.length">
                    <p-chart type="bar" [data]="classStatusChartDT" height="100px"></p-chart>
                </div>

                <div class="body no-padding" *ngIf="!classStatusChartDT.length">
                    <h4>No Data Found....</h4>
                </div>
            </div>

            <div class="card">
                <div class="sm-header">
                    <div class="row clearfix">
                        <div class="col-md-6">
                            <h6>Exam Status</h6>
                        </div>

                        <div class="col-md-6" align="right" *ngIf="examStatusChartDT.length">
                            <div class="form-group margin-0">
                                <div class="form-line">
                                    <select id="smstrid" name="smstrname" [(ngModel)]="smstrid" class="form-control smstrname" (ngModelChange)="getERPDashboardData('examstatus')" tabindex="3">
                                        <option *ngFor="let row of semesterDT" [value]="row.id">
                                            {{row.val}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="body no-padding" *ngIf="examStatusChartDT.length">
                    <p-chart type="bar" [data]="examStatusChartDT" height="100px"></p-chart>
                </div>

                <div class="body no-padding" *ngIf="!examStatusChartDT.length">
                    <h4>No Data Found....</h4>
                </div>
            </div>

            <div class="card">
                <div class="sm-header">
                    <h6>Fees Structure</h6>
                </div>

                <div class="body no-padding" *ngIf="feesstructureDT.length">
                    <p-chart type="bar" [data]="feesstructureDT" height="100px"></p-chart>
                </div>

                <div class="body no-padding" *ngIf="!feesstructureDT.length">
                    <h4>No Data Found....</h4>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card">
                <div class="sm-header">
                    <div class="row clearfix">
                        <div class="col-md-6">
                            <h6>School Noticeboard</h6>
                        </div>
                        <div class="col-md-6 text-right">
                            <button type="button" class="btn btn-theme btn-xs" [routerLink]="['/erp/school/noticeboard/add']">
                                <i class="material-icons font-18">add</i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="body no-padding" id="notice_board" *ngIf="noticeboardDT.length">
                    <div *ngFor="let row of noticeboardDT">
                        <div class="media border p-3">
                            <div class="media-body">
                                <h6>
                                    <img src="assets/img/dashboard/notification.png" alt="{{row.nbtitle}}" class="mr-3 mt-3 rounded-circle" style="width: 18px;">{{row.nbtitle}} <small class="float-right"><i>{{row.nbdate}}</i></small>
                                </h6>
                                <p class="font-11">{{row.nbdesc}}</p>
                            </div>
                        </div>
                    </div>

                    <div class="media border p-3 text-right" *ngIf="noticeboardDT.length >= 5">
                        <a role="button" class="btn btn-theme btn-xs" [routerLink]="['/erp/school/noticeboard']">View More....</a>
                    </div>
                </div>
                <div class="body no-padding" *ngIf="!noticeboardDT.length">
                    <h4>No Data Found....</h4>
                </div>
            </div>

            <div class="card">
                <div class="sm-header">
                    <h6>Today's Teacher Attendance</h6>
                </div>

                <div class="body no-padding" *ngIf="tchrattndDT.length">
                    <p-chart type="pie" #piechart [data]="tchrattndDT" height="150px"></p-chart>
                </div>

                <div class="body no-padding" *ngIf="!tchrattndDT.length">
                    <h4>No Data Found....</h4>
                </div>
            </div>

            <div class="card">
                <div class="sm-header">
                    <h6>Class Teacher</h6>
                </div>

                <div class="body no-padding" *ngIf="classtypeDT.length">
                    <p-chart type="pie" #piechart [data]="classtypeDT"></p-chart>
                </div>

                <div class="body no-padding" *ngIf="!classtypeDT.length">
                    <h4>No Data Found....</h4>
                </div>
            </div>
        </div>
    </div>
</div>