<div class="card">
    <div class="header">
        <h4>Trip Tracking</h4>
    </div>
    <div class="body">
        <div class="row clearfix">
            <div class="col-md-5">
                <div class="form-group">
                    <div class="form-line">
                        <label class="control-label">Co-ordinator Name</label>
                        <div class="row clearfix">
                            <div class="col-md-10">
                                <p-autoComplete id="coordname" name="coordname" [(ngModel)]="coordname" [tabindex]="1" (onSelect)="selectCoordinatorData($event)" [suggestions]="coordDT" (completeMethod)="getCoordinatorData($event)" field="label" [minLength]="1" [size]="30" class="form-controlAutoComplete coordname"></p-autoComplete>
                            </div>
                            <div class="col-md-2" align="right">
                                <span class="material-icons">search</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-5">
                <div class="form-group">
                    <div class="form-line">
                        <label class="control-label">Driver Name</label>
                        <select [(ngModel)]="driverid" class="form-control" tabindex="2">
                            <option [value]="0">Select Driver</option>
                            <option *ngFor="let row of driverDT" [value]="row.key">	
                                {{row.val}}
                            </option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="col-md-2">
                <button type="button" (click)="getTripData()" class="btn btn-theme btn-xs">
                    <span class="material-icons">subdirectory_arrow_right</span>
                </button>
            </div>
        </div>
    </div>

    <div class="header">
        <h4>Today's Trip</h4>
        <!--<p-selectButton [options]="triptype" [(ngModel)]="selectedTripType"></p-selectButton>-->

        <ul class="header-dropdown m-r--5">
            <li>
                <a *ngIf="!isPlay" role="button" class="btn btn-theme btn-xs" (click)="togglePlayPause()"><span class="fa fa-play"></span></a>
                <a *ngIf="isPlay" role="button" class="btn btn-theme btn-xs" (click)="togglePlayPause()"><span class="fa fa-pause"></span></a>
            </li>
            <li>
                <a role="button" class="btn btn-theme btn-xs" (click)="zoomIn(gmap.getMap())"><span class="fa fa-search-plus"></span> Zoom In</a>
            </li>
            <li>
                <a role="button" class="btn btn-theme btn-xs" (click)="zoomOut(gmap.getMap())"><span class="fa fa-search-minus"></span> Zoom Out</a>
            </li>
        </ul>
    </div>
    <div class="body">
        <div class="row clearfix">
            <div class="col-md-6">
                <!--| filterBy: {'stsi': selectedTripType}-->
                <div *ngFor="let row of tripDT" class="def-box" onclick="onSelection(this);" (click)="getTTMap(row)">
                    <div class="row clearfix">
                        <div class="col-md-11">
                            <b>{{row.nm}}</b>
                            <br />
                            <b>Batch : </b>{{row.btch}}
                        </div>
                        <div class="col-md-1" align="right">
                            <span class="material-icons {{row.sts}}">
                                {{row.stsi == "0" ? "access_time" : row.stsi == "1" ? "play_arrow" : "done"}}
                            </span>
                        </div>
                    </div>
                    <div class="row clearfix">
                        <div class="col-md-3">
                            <span class="{{row.pd == 'p' ? 'pickup' : 'drop'}}">
                                {{row.pd == "p" ? "Pickup" : "Drop"}}
                            </span>
                        </div>
                        <div class="col-md-9">
                            {{row.date}} - {{row.time}}
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <p-gmap #gmap [style]="{'width':'100%','height':'320px'}" [options]="options" [overlays]="overlays"></p-gmap>
                </div>
                <div class="row clearfix" *ngIf="sel_tripid !== 0">
                    <div class="col-md-7">
                        <p class="font-bold col-teal"> {{connectmsg}}</p>
                    </div>
                    <div class="col-md-2" align="right">
                        <button type="button" (click)="sendMessage()" class="btn btn-theme btn-xs">Track</button>
                    </div>
                    <div class="col-md-3" align="right">
                        <button type="button" (click)="showPassengerList()" class="btn btn-theme btn-xs">Show Passenger</button>
                    </div>
                </div>
                <div *ngFor="let row of psngrDT" class="def-box">
                    <div class="row clearfix">
                        <div class="col-md-11">
                            <b>{{row.stdnm}}</b>
                        </div>
                        <div class="col-md-1" align="right">
                            <span class="material-icons {{row.stsi == '0' ? 'pending' : row.stsi == '1' ? 'started' : 'stopped'}}">
                                {{row.stsi == "0" ? "access_time" : row.stsi == "1" ? "done" : "warning"}}
                            </span>
                        </div>
                    </div>
                    <div class="row clearfix">
                        <div class="col-md-12">
                            {{row.addr}}
                        </div>
                    </div>
                    <div class="row clearfix">
                        <div class="col-md-12">
                            <b>Mobile : </b>{{row.fthrmob}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>